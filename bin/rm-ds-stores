#!/bin/sh -eu

. "$HOME/.config/lib/panic.sh"

usage() {
cat <<EOF >&2
usage:
    $(basename "$0") [options] <path>...

options:
    -h
        show this help
    -v
        explain what is being done
EOF
exit 1
}

v=""
while getopts "hv" opt; do
    case "$opt" in
    (v) v="-v" ;;
    (*) usage ;;
    esac
done
shift $((OPTIND - 1))

if [ $# -eq 0 ]; then
    usage
fi

find "$@" -name .DS_Store -exec rm $v {} \; 2>/dev/null || true
