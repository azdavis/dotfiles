#!/bin/sh

set -eu
. "$HOME/.config/lib/abort.sh"

show_help() {
cat <<EOS
usage: $(basename "$0") [options]

options:
	-h
		show this help
	-v
		explain what is being done
EOS
}

usage() {
	show_help 1>&2
	exit 1
}

f=""
r=false
v=""
while getopts "hv" opt; do
	case "$opt" in
	(h) show_help && exit ;;
	(v) v="-v" ;;
	(*) usage ;;
	esac
done
shift $((OPTIND - 1))

if [ $# -ne 0 ]; then
	usage
fi

"$HOME/.config/bin/rm-ds-stores" $v "$HOME"

rm -rf $v \
	"$HOME/.bash_history" \
	"$HOME/.bash_sessions" \
	"$HOME/.bundle" \
	"$HOME/.cache" \
	"$HOME/.config/gnome-session" \
	"$HOME/.config/gtk-2.0" \
	"$HOME/.config/gtk-3.0" \
	"$HOME/.config/nautilus" \
	"$HOME/.config/update-notifier" \
	"$HOME/.config/upstart" \
	"$HOME/.elm" \
	"$HOME/.gem" \
	"$HOME/.ghc" \
	"$HOME/.idris/repl/history" \
	"$HOME/.lldb" \
	"$HOME/.nano" \
	"$HOME/.node-gyp" \
	"$HOME/.node_repl_history" \
	"$HOME/.npm" \
	"$HOME/.oracle_jre_usage" \
	"$HOME/.python_history" \
	"$HOME/.sh_history" \
	"$HOME/.sqlite_history" \
	"$HOME/.viminfo" \
	"$HOME/.zcompdump"
